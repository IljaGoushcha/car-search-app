"use strict";angular.module("carSearchApp",["ngAnimate","ngCookies","ngResource","ngSanitize","ngTouch","ui.bootstrap","ngMaterial","cb.x2js"]),angular.module("carSearchApp").controller("MainCtrl",["$scope","$http",function(a,b){a.onLoad=function(){a.searching=!1},a.pickupTimes=["1:00","2:00","3:00","4:00","5:00","6:00","7:00","8:00","9:00","10:00","11:00","12:00"],a.dropoffTimes=["1:00","2:00","3:00","4:00","5:00","6:00","7:00","8:00","9:00","10:00","11:00","12:00"],a.availableAirports=["LAX","BOS","JFK","MIA","SNA","SFO","DFW"],a.searchAction=function(b,c,d,e,f){console.log("search clicked");var g="";g=c.getMonth()+1<10?"0"+(c.getMonth()+1):c.getMonth()+1;var h="";h=c.getDate()<10?"0"+c.getDate():c.getDate();var i="";i=e.getMonth()+1<10?"0"+(e.getMonth()+1):e.getMonth()+1;var j="";j=e.getDate()<10?"0"+e.getDate():e.getDate();var k={apikey:"zkbr4yqu9vcpx36drfgp4gsv",dest:b,startdate:g+"/"+h+"/"+c.getFullYear(),pickuptime:d,enddate:i+"/"+j+"/"+e.getFullYear(),dropofftime:f};console.log(k),a.sendRequest(k)},a.sendRequest=function(c){a.searching=!0,b({url:"http://api.hotwire.com/v1/search/car",method:"GET",params:c,headers:{Accept:"text/html,application/json;q=0.9,image/webp,*/*;q=0.8"}}).success(function(b){var c=new X2JS,d=c.xml_str2json(b);console.log(d),a.myCarsPrices=d.Hotwire.Result.CarResult,a.myCars=d.Hotwire.MetaData.CarMetaData.CarTypes.CarType,console.log(a.myCars),a.searching=!1}).error(function(a){console.log(a)})},a.onLoad()}]).config(["$httpProvider","$mdDateLocaleProvider",function(a,b){a.defaults.useXDomain=!0,delete a.defaults.headers.common["X-Requested-With"]}]),angular.module("carSearchApp").run(["$templateCache",function(a){a.put("views/main.html",'<div class="container main-outer-div"> <div class="row"> <div class="col-sm-6"><h1>Find Your Car</h1></div> <div class="col-sm-6"><h1 class="searching" ng-show="searching">Searching...</h1></div> </div> <div class="row"> <div class="col-sm-12"> <h4>Airport</h4> <div class="input-group" style="width:150px"> <select class="form-control input-sm" ng-model="pickupAirport" ng-options="airport for airport in availableAirports"> <option value="">-- choose airport --</option> </select> </div> </div> </div> <div class="row"> <div class="col-sm-6"> <h4>Pickup Date</h4> <md-datepicker ng-model="pickupDate" md-placeholder="Enter date"></md-datepicker> <br> <h4>Pickup Time</h4> <div class="input-group" style="width:150px"> <select class="form-control input-sm" ng-model="pickupTime" ng-options="time for time in pickupTimes"> <option value="">-- choose time --</option> </select> </div> </div> <div class="col-sm-6"> <h4>Dropoff Date</h4> <md-datepicker ng-model="dropoffDate" md-placeholder="Enter date"></md-datepicker> <br> <h4>Dropoff Time</h4> <div class="input-group" style="width:150px"> <select class="form-control input-sm" ng-model="dropoffTime" ng-options="time for time in dropoffTimes"> <option value="">-- choose time --</option> </select> </div> </div> </div> <div class="row"> <br> <button class="btn btn-primary" ng-click="searchAction(pickupAirport, pickupDate, pickupTime, dropoffDate, dropoffTime)">Search</button> </div> <br><br> <p>metadata</p> <ul> <li ng-repeat="car in myCars"> <h3>{{car.PossibleModels}}, ({{car.CarTypeCode}})</h3> <p>{{car.PossibleFeatures}}</p><p> </p></li> </ul> <br><br> <p>prices</p> <ul> <li ng-repeat="car in myCarsPrices"> <h3>{{car.DailyRate}}</h3> <p>{{car.CarTypeCode}}</p><p> </p></li> </ul> </div>')}]);